
{% extends 'base.html' %}
{% load staticfiles %}
{% block head %}
<script src="{%static 'account/js/emotion_labeler.js'%}"></script>
<script src="{%static 'account/js/label_data_structure.js'%}"></script>
<script src="{%static 'account/js/mturk.js'%}"></script>

{% endblock %}

{% block body %}
<div class="container">
  <div class="panel panel-default">
    <div class="panel-body"><br>
      <font size="2"><p>Please tag your own emotion state below:</p><hr>
    </div>
  </div>
  <div class="container-fluid">
    <div class="row">
      <div class="col-md-6"><br>
        <h5>How To Tag</h5>
        <ol type="1">
          <li>You have to tag the your emotion state by estimating your valence and arousal intensities.<br>
            <!--b>Valence:</b> signifies if the emotion ilicited in the person is positive or negative. <br-->
            <ul><li><strong>Valence</strong> means the intrinsic "good"-ness (positive valence) or "bad"-ness (negative valence) of a person's emotion.<br>
            <small>Some examples: <b>Joy</b> is <b>Positive</b> and <b>Anger</b> is <b>Negative</b></small><br></li>
            <li><strong>Arousal</strong> is the physiological and psychological state of being awoken or stimulated.<br>
              <!--b>Arousal:</b> potential bodily activity/inactivity of the person <br-->
            <small>Some Examples: <b>Excited</b> is <b>high</b> and <b>Sad</b> is <b>low</b></small><br></ul></li></li>
          <li>You have to click on the location on the two-dimensional emotion plane that best indicates your emotion. Please consider the intensity of Valence and Arousal when you do the task. Intensity increases as it moves towards the rim.</li>
        </ol>
      </div>
        <!-- Jean's change ends here -->

      <div id="label_pane" class="col-md-6">
        <div id="labeler" style="display:block; margin:auto; opacity:1"></div>
        <script>
          generate_circular_labeler('labeler')
        </script>
      </div>
    </div>
    <div>
      <button id='Selftag_Add' class='btn btn-primary btn-sm' style="display:block; margin:auto; margin-top:0px; padding: .1rem 1rem; margin-left:950px;">Done</button><hr>
      <form id="selftag_form" method='POST' action="/home/task/" style='margin-bottom: 0px;'>
        {% csrf_token %}
        <button class="btn btn-success btn-lg " type="submit" id="Selftag_submit" style="display:block; margin:auto; margin-top:0px; padding: .1rem 1rem; margin-left:950px; " disabled>Proceed</button>
        <!-- <span class="glyphicon glyphicon-chevron-right"></span></a> -->
      </form>
      <!-- <a href="/home/task/" class="btn btn-dark btn-lg " role="submit" onclick="useralert()" style="float:center; margin-top:15px; margin-left:950px; ">Proceed
        <span class="glyphicon glyphicon-chevron-right"></span></a> -->
    </div>
  </div>


</div>

<script src="{% static 'account/js/interactive_progress_bar.js' %}"></script>
<script type="text/javascript">
//self-emotion tagging check
$("#Selftag_Add").click(function(){
  if (select_dic['labeler']) {
    add_Selflabel_to_data_structure('labeler');
    console.log("self tag is stored in the datastructure");
    $("#Selftag_Add").prop("disabled", true)
    $("#Selftag_submit").prop("disabled", false)
    var elem = document.getElementById("label_pane");
    elem.setAttribute("style","pointer-events: none;");
    $("#label_pane").css("opacity", 0.3);
    delete_value_circle('labeler')
  }
  else{
    alert("Please tag your emotion on the Plane before submitting");
  }
})

//self_tag button submit
$("#Selftag_submit").click(function(event) {
  // force submit
  console.log("Selftag_submit clicled");
  $("#Selftag_submit").attr('type', 'submit');
  selfTagSubmit();
  //location.href = "/home/task/";
});
</script>
{% endblock %}
